<div class="card text-bg-secondary">
	<div class="card-body">
		<ul>
			@for (message of msgThread(); track message.id) {
				@if (message.receiverUsername !== username()) {
					<li class="receiver">
						{{ message.content }}
						<img
							src="{{
								message.senderPicUrl || './assets/user.png'
							}}"
							class="rounded-circle"
						/>
						@if (!message.read) {
							<small class="text-warning">unread</small>
						}
					</li>
				} @else {
					<li>
						{{ message.content }}
						<img
							src="{{
								message.senderPicUrl || './assets/user.png'
							}}"
							class="rounded-circle"
						/>
					</li>
				}
			}
		</ul>
	</div>

	<div class="card-footer text-bg-dark">
		<form #msgForm="ngForm" class="d-flex mt-2 mb-2">
			<input
				required
				[(ngModel)]="msgContent"
				type="text"
				placeholder="send message"
				class="form-control"
			/>
			<button [disabled]="!msgForm.valid" class="btn btn-success btn-lg">
				Send
			</button>
		</form>
	</div>
</div>
